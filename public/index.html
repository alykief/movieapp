<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="MovieApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"></script>
    <script src="/js/app.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/app.css">
  </head>
  <body ng-controller="MainController as ctrl">
    <!-- CREATE MOVIE -->
    <h1>Add a New Movie</h1>
    <form ng-submit="ctrl.createMovie()">
      <input type="text" ng-model="ctrl.title" placeholder="title">
      <input type="text" ng-model="ctrl.director" placeholder="director"></br>
      <input type="text" ng-model="ctrl.rating" placeholder="rating">
      <input type="text" ng-model="ctrl.year" placeholder="year">
      <input type="submit" placeholder="Create Movie">
    </form>

    <!-- DISPLAY MOVIES -->
    <h1>Rated Movies</h1>
    <ul>
      <li ng-repeat="movie in ctrl.movies">
        Title: {{movie.title}}</br>
        Director: {{movie.director}}</br>
        Rating: {{movie.rating}}</br>
        Year: {{movie.year}}</br>
        <button type="button" ng-click="ctrl.deleteMovie(movie._id)">Delete</button>
        </br>
          <form ng-submit="ctrl.updateMovie(movie)">
            <input type="text" ng-model="ctrl.updatedTitle" placeholder="title">
            <input type="text" ng-model="ctrl.updatedDirector" placeholder="director"></br>
            <input type="text" ng-model="ctrl.updatedRating" placeholder="rating">
            <input type="text" ng-model="ctrl.updatedYear" placeholder="year"></br>
            <input type="submit" value="Update Movie">
          </form>
      </li>
    </ul>
  </body>
</html>
